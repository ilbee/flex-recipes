{
    "manifests": {
        "fnacdarty/kafka-service": {
            "manifest": {
                "bundles": {
                    "FnacDarty\\KafkaService\\KafkaServiceBundle": [
                        "all"
                    ]
                },
                "copy-from-recipe": {
                    "config/": "%CONFIG_DIR%"
                },
                "env": {
                    "#1": "Configuration information is available at ",
                    "#2": "https://gitlab.com/fnacdarty/fdps/dev/common/marchandisesphp/bundles/kafka-service",
                    "KAFKA_SERVICE_BROKER": "your.kafka.broker:9092",
                    "KAFKA_SERVICE_TOPIC": "your_topice_name",
                    "KAFKA_SERVICE_USERNAME": "your_kafka_username",
                    "KAFKA_SERVICE_PASSWORD": "your_kafka_password",
                    "KAFKA_SERVICE_CLIENT_ID": "my_application_client_id"
                }
            },
            "files": {
                "config/packages/kafka_service.yaml": {
                    "contents": [
                        "kafka_service:",
                        "    broker: '%env(KAFKA_SERVICE_BROKER)%'",
                        "    topic: '%env(KAFKA_SERVICE_TOPIC)%'",
                        "    #produce:",
                        "        #flush_timeout: 5000",
                        "    credentials:",
                        "        username: '%env(KAFKA_SERVICE_USERNAME)%'",
                        "        password: '%env(KAFKA_SERVICE_PASSWORD)%'",
						"        # You may need to use a separate credential pair between the consumer and producer.",
						"        # If they are set they take precedence over the global credentials.",
                        "        #producer:",
                        "            #username: null",
                        "            #password: null",
                        "        #consumer:",
                        "            #username: null",
                        "            #password: null",
                        "        config:",
                        "            client:",
                        "                 id: '%env(KAFKA_SERVICE_CLIENT_ID)%'",
						"            debug: 'all'",
						"            enable:",
						"                idempotence: true",
						"            log_level: '7'",
						"            message:'",
						"                timeout:",
						"                    ms: 5000",
						"            retry:",
						"                backoff:",
						"                    ms: 500",
						"            security:",
						"                protocol: 'SASL_SSL'",
						"            sasl:",
						"                mechanisms: 'PLAIN'"
                    ],
                    "executable": false
                }
            },
            "ref": "e05a3c185421ed3ee652e5d5f74f691ed44f6013"
        }
    }
}
